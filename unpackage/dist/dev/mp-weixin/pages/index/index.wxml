<view class="container d-flex flex-column data-v-57280228"><view class="header data-v-57280228"><view class="search-box flex-horizontal-center data-v-57280228"><view class="search-input w-100 flex-horizontal-center data-v-57280228"><image class="icon mr-10 data-v-57280228" src="{{searchIcon}}"></image><text class="data-v-57280228">搜索</text></view></view><view class="center data-v-57280228"><view class="store flex-between-center  data-v-57280228"><view class="store-name d-flex align-items-center overflow-hidden data-v-57280228"><image class="flex-shrink-0 star-icon data-v-57280228" src="{{starIcon}}"></image><text class="text-lg font-bold text-truncate data-v-57280228">{{storeName}}</text><image class="flex-shrink-0 r-arrow-icon data-v-57280228" src="{{rightArrowIcon}}"></image></view><view class="switch-btns d-flex align-items-center data-v-57280228"><button class="{{['sw-btn','data-v-57280228',(!switchBtnIdx)?'active':'']}}" type="default" data-event-opts="{{[['tap',[['switchTabChange',[0]]]]]}}" bindtap="__e">自取</button><button class="{{['sw-btn','data-v-57280228',(switchBtnIdx)?'active':'']}}" type="default" data-event-opts="{{[['tap',[['switchTabChange',[1]]]]]}}" bindtap="__e">外卖</button></view></view><view class="distance text-color-assist data-v-57280228">{{"距离您"+distance+"m"}}</view></view><view class="notice d-flex text-color-assist data-v-57280228"><swiper class="notice-swipper data-v-57280228" vertical="{{true}}" autoplay="{{true}}" interval="{{3000}}" duration="{{1000}}"><block wx:for="{{noticeList}}" wx:for-item="notice" wx:for-index="nIdx" wx:key="nIdx"><swiper-item class="data-v-57280228"><view class="notice-swiper-item d-flex align-items-center overflow-hidden data-v-57280228"><image class="flex-shrink-0 n-icon mr-10 data-v-57280228" src="{{notice.image}}"></image><text class="n-content text-truncate data-v-57280228">{{notice.content}}</text></view></swiper-item></block></swiper><view class="more pl-30 d-flex align-items-center data-v-57280228"><text class="data-v-57280228">更多</text><image class="down-icon ml-10 data-v-57280228" src="{{downArrowIcon}}"></image></view></view></view><view class="main data-v-57280228"><scroll-view class="menu-bar data-v-57280228" scroll-y="{{true}}"><view class="menu-wrap data-v-57280228"><block wx:for="{{categories}}" wx:for-item="cate" wx:for-index="cIdx" wx:key="cIdx"><view data-event-opts="{{[['tap',[['handleMenuSelected',['$0'],[[['categories','',cIdx,'id']]]]]]]}}" class="{{['cate-item','flex-vertical-center','overflow-hidden','data-v-57280228',(curCategoryId==cate.id)?'active':'']}}" bindtap="__e"><image class="c-icon data-v-57280228" src="{{cate.category_image_url}}"></image><text class="c-content text-truncate data-v-57280228">{{cate.name}}</text></view></block></view></scroll-view><scroll-view class="product-list data-v-57280228" scroll-y="{{true}}" scroll-top="{{productScrollTop}}"><view class="product-wrap data-v-57280228"><view class="ad-swipper data-v-57280228" id="ads"><swiper class="ad-swiper mb-20 data-v-57280228" indicator-dots="{{true}}" autoplay="{{true}}" interval="{{3000}}" duration="{{1000}}"><block wx:for="{{headAdList}}" wx:for-item="headAd" wx:for-index="haIdx" wx:key="haIdx"><swiper-item class="-ad-swiper-item data-v-57280228"><image class="ad-img data-v-57280228" src="{{headAd}}"></image></swiper-item></block></swiper><swiper class="ad-swiper data-v-57280228" indicator-dots="{{true}}" autoplay="{{true}}" interval="{{3000}}" duration="{{1000}}"><block wx:for="{{bottomAdList}}" wx:for-item="bottomAd" wx:for-index="baIdx" wx:key="baIdx"><swiper-item class="ad-swiper-item data-v-57280228"><image class="ad-img data-v-57280228" src="{{bottomAd}}"></image></swiper-item></block></swiper></view><block wx:for="{{$root.l2}}" wx:for-item="category" wx:for-index="index" wx:key="index"><view class="product-group-list mb-20 data-v-57280228" id="{{'products-'+category.$orig.id}}"><view class="list-header ptb-30 data-v-57280228">{{category.$orig.name}}</view><view class="list-wrap data-v-57280228"><block wx:for="{{category.l1}}" wx:for-item="product" wx:for-index="pIdx" wx:key="pIdx"><view data-event-opts="{{[['tap',[['showProductModal',['$0'],[[['categories','',index],['products','',pIdx]]]]]]]}}" class="item d-flex align-items-center mb-40 data-v-57280228" bindtap="__e"><image class="flex-shrink-0 i-image data-v-57280228" src="{{product.$orig.images[0].url}}" mode="widthFix"></image><view class="i-infos overflow-hidden data-v-57280228"><view class="name text-medium data-v-57280228">{{product.$orig.name}}</view><view class="tags-scroll d-flex flex-wrap data-v-57280228"><block wx:for="{{product.l0}}" wx:for-item="tag" wx:for-index="tIdx" wx:key="tIdx"><view class="tag mr-10 text-truncate data-v-57280228" style="{{'color:'+(tag.$orig.label_color)+';'+('background:'+(tag.g0)+';')}}">{{''+tag.$orig.name+''}}</view></block></view><view class="desc text-sm text-color-assist mb-20 data-v-57280228">{{product.$orig.description}}</view><view class="price flex-between-center data-v-57280228"><view class="text-extra-lg font-bold data-v-57280228">{{"￥"+product.$orig.price}}</view><actions vue-id="{{'8dd740cc-1-'+index+'-'+pIdx}}" materialsBtn="{{!product.$orig.is_single}}" number="{{product.m0}}" data-event-opts="{{[['^add',[['handleAddToCart',['$0'],[[['categories','',index],['products','',pIdx]]]]]],['^minus',[['handleMinusFromCart',['$0'],[[['categories','',index],['products','',pIdx]]]]]],['^materials',[['showProductModal',['$0'],[[['categories','',index],['products','',pIdx]]]]]]]}}" bind:add="__e" bind:minus="__e" bind:materials="__e" class="data-v-57280228" bind:__l="__l"></actions></view></view></view></block></view></view></block></view></scroll-view></view><product-modal vue-id="8dd740cc-2" visible="{{productModalVisible}}" product="{{product}}" data-event-opts="{{[['^close',[['closeProductModal']]],['^addToCart',[['handAddToCartInModal']]]]}}" bind:close="__e" bind:addToCart="__e" class="data-v-57280228" bind:__l="__l"></product-modal><cart-bar vue-id="8dd740cc-3" cart="{{cart}}" data-event-opts="{{[['^pay',[['pay']]],['^clear',[['clearall']]],['^add',[['handleAddToCart']]],['^minus',[['handleMinusFromCart']]]]}}" bind:pay="__e" bind:clear="__e" bind:add="__e" bind:minus="__e" class="data-v-57280228" bind:__l="__l"></cart-bar></view>